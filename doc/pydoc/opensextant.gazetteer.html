<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Python: module opensextant.gazetteer</title>
</head><body>

<table class="heading">
<tr class="heading-text decor">
<td class="title">&nbsp;<br><strong class="title"><a href="opensextant.html" class="white">opensextant</a>.gazetteer</strong></td>
<td class="extra"><a href=".">index</a><br><a href="file:./python/opensextant/gazetteer.py">./python/opensextant/gazetteer.py</a></td></tr></table>
    <p></p>
<p>
<table class="section">
<tr class="decor pkg-content-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Modules</strong></td></tr>
    
<tr><td class="decor pkg-content-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><table><tr><td class="multicolumn"><a href="arrow.html">arrow</a><br>
<a href="json.html">json</a><br>
</td><td class="multicolumn"><a href="os.html">os</a><br>
<a href="pysolr.html">pysolr</a><br>
</td><td class="multicolumn"><a href="sqlite3.html">sqlite3</a><br>
</td><td class="multicolumn"></td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor index-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Classes</strong></td></tr>
    
<tr><td class="decor index-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl>
<dt class="heading-text"><a href="builtins.html#object">builtins.object</a>
</dt><dd>
<dl>
<dt class="heading-text"><a href="opensextant.gazetteer.html#AdminLevelCodes">AdminLevelCodes</a>
</dt><dt class="heading-text"><a href="opensextant.gazetteer.html#DB">DB</a>
</dt><dt class="heading-text"><a href="opensextant.gazetteer.html#DataSource">DataSource</a>
</dt><dt class="heading-text"><a href="opensextant.gazetteer.html#GazetteerIndex">GazetteerIndex</a>
</dt><dt class="heading-text"><a href="opensextant.gazetteer.html#GazetteerSearch">GazetteerSearch</a>
</dt><dt class="heading-text"><a href="opensextant.gazetteer.html#ISO3166Registry">ISO3166Registry</a>
</dt><dt class="heading-text"><a href="opensextant.gazetteer.html#PlaceHeuristics">PlaceHeuristics</a>
</dt></dl>
</dd>
</dl>
 <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="AdminLevelCodes">class <strong>AdminLevelCodes</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code"><a href="#AdminLevelCodes">AdminLevelCodes</a>(filepath=None)<br>
&nbsp;<br>
<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="AdminLevelCodes-__init__"><strong>__init__</strong></a>(self, filepath=None)</dt><dd><span class="code">Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</span></dd></dl>

<dl><dt><a name="AdminLevelCodes-add_country"><strong>add_country</strong></a>(self, cc)</dt></dl>

<dl><dt><a name="AdminLevelCodes-add_place"><strong>add_place</strong></a>(self, place_id, cc, std, adm1, grid)</dt><dd><span class="code">Accumulate&nbsp;discrete&nbsp;ADM1&nbsp;codings&nbsp;by&nbsp;place&nbsp;instance&nbsp;and&nbsp;location<br>
:param&nbsp;place_id:<br>
:param&nbsp;cc:<br>
:param&nbsp;std:<br>
:param&nbsp;adm1:<br>
:param&nbsp;adm2:&nbsp;optional&nbsp;ADM2&nbsp;mapping<br>
:param&nbsp;grid:<br>
:return:</span></dd></dl>

<dl><dt><a name="AdminLevelCodes-adjust_admin1"><strong>adjust_admin1</strong></a>(self, cc, adm1)</dt></dl>

<dl><dt><a name="AdminLevelCodes-align_admin1"><strong>align_admin1</strong></a>(self)</dt></dl>

<dl><dt><a name="AdminLevelCodes-as_json"><strong>as_json</strong></a>(self)</dt></dl>

<dl><dt><a name="AdminLevelCodes-get_alternate_admin1"><strong>get_alternate_admin1</strong></a>(self, cc, adm1, std)</dt><dd><span class="code">EXPERIMENTAL&nbsp;still.<br>
&nbsp;<br>
:param&nbsp;cc:&nbsp;ISO&nbsp;country&nbsp;code<br>
:param&nbsp;adm1:&nbsp;ADM1&nbsp;in&nbsp;the&nbsp;given&nbsp;standard<br>
:param&nbsp;std:&nbsp;standard&nbsp;"FIPS"&nbsp;or&nbsp;"ISO"<br>
:return:</span></dd></dl>

<dl><dt><a name="AdminLevelCodes-load"><strong>load</strong></a>(self, fpath)</dt></dl>

<dl><dt><a name="AdminLevelCodes-save"><strong>save</strong></a>(self, fpath)</dt></dl>

<dl><dt><a name="AdminLevelCodes-set_admin_hierarchy"><strong>set_admin_hierarchy</strong></a>(self, countries, adm1_containment)</dt></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</span></dd>
</dl>
</td></tr></table> <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="DB">class <strong>DB</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code"><a href="#DB">DB</a>(dbpath,&nbsp;commit_rate=1000,&nbsp;debug=False,&nbsp;add_geohash=False)<br>
&nbsp;<br>
<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="DB-__init__"><strong>__init__</strong></a>(self, dbpath, commit_rate=1000, debug=False, add_geohash=False)</dt><dd><span class="code">Save&nbsp;items&nbsp;to&nbsp;SQlite&nbsp;db&nbsp;at&nbsp;the&nbsp;commit_rate&nbsp;given.&nbsp;&nbsp;Call&nbsp;close&nbsp;to&nbsp;finalize&nbsp;any&nbsp;partial&nbsp;batches<br>
and&nbsp;save&nbsp;database.<br>
&nbsp;<br>
:param&nbsp;dbpath:<br>
:param&nbsp;commit_rate:</span></dd></dl>

<dl><dt><a name="DB-add_place"><strong>add_place</strong></a>(self, obj)</dt><dd><span class="code">Add&nbsp;one&nbsp;place<br>
:param&nbsp;obj:&nbsp;a&nbsp;place&nbsp;dictionary.&nbsp;&nbsp;If&nbsp;arg&nbsp;is&nbsp;a&nbsp;Place&nbsp;<a href="builtins.html#object">object</a>&nbsp;it&nbsp;is&nbsp;converted&nbsp;to&nbsp;dictionary&nbsp;first.</span></dd></dl>

<dl><dt><a name="DB-add_places"><strong>add_places</strong></a>(self, arr)</dt><dd><span class="code">Add&nbsp;a&nbsp;list&nbsp;of&nbsp;places.</span></dd></dl>

<dl><dt><a name="DB-add_population_stats"><strong>add_population_stats</strong></a>(self, source='G')</dt><dd><span class="code">Population&nbsp;stats&nbsp;are&nbsp;record&nbsp;by&nbsp;populated&nbsp;area&nbsp;(P-class&nbsp;features)&nbsp;and&nbsp;rolled&nbsp;up<br>
to&nbsp;provide&nbsp;an&nbsp;ADM1&nbsp;population&nbsp;approximation.</span></dd></dl>

<dl><dt><a name="DB-close"><strong>close</strong></a>(self)</dt></dl>

<dl><dt><a name="DB-commit"><strong>commit</strong></a>(self)</dt></dl>

<dl><dt><a name="DB-create"><strong>create</strong></a>(self)</dt><dd><span class="code">Create&nbsp;the&nbsp;placenames&nbsp;table&nbsp;and&nbsp;default&nbsp;indices&nbsp;used&nbsp;for&nbsp;ETL&nbsp;-&nbsp;place_id,&nbsp;source,&nbsp;country,&nbsp;and&nbsp;ADM1<br>
:return:</span></dd></dl>

<dl><dt><a name="DB-create_indices"><strong>create_indices</strong></a>(self)</dt><dd><span class="code">Create&nbsp;additional&nbsp;indices&nbsp;that&nbsp;are&nbsp;used&nbsp;for&nbsp;advanced&nbsp;ETL&nbsp;functions&nbsp;and&nbsp;optimization.<br>
:return:</span></dd></dl>

<dl><dt><a name="DB-delete_places"><strong>delete_places</strong></a>(self, q)</dt><dd><span class="code">:param&nbsp;q:&nbsp;query&nbsp;starting&nbsp;with&nbsp;"WHERE...."<br>
:return:</span></dd></dl>

<dl><dt><a name="DB-list_adm1_popstats"><strong>list_adm1_popstats</strong></a>(self)</dt><dd><span class="code">Provides&nbsp;a&nbsp;neat&nbsp;lookup&nbsp;of&nbsp;population&nbsp;stats&nbsp;by&nbsp;HASC&nbsp;path,<br>
&nbsp;&nbsp;&nbsp;e.g.,&nbsp;"US.CA"&nbsp;is&nbsp;califronia;&nbsp;Reported&nbsp;at&nbsp;35&nbsp;million&nbsp;in&nbsp;major&nbsp;cities&nbsp;(where&nbsp;state&nbsp;total&nbsp;is&nbsp;reported<br>
&nbsp;&nbsp;&nbsp;at&nbsp;39&nbsp;million&nbsp;in&nbsp;2021.)&nbsp;&nbsp;Population&nbsp;stats&nbsp;only&nbsp;cover&nbsp;major&nbsp;cities&nbsp;of&nbsp;15K&nbsp;or&nbsp;more&nbsp;people.<br>
:return:&nbsp;map&nbsp;of&nbsp;population&nbsp;stats&nbsp;by&nbsp;ADM1&nbsp;path</span></dd></dl>

<dl><dt><a name="DB-list_adm2_popstats"><strong>list_adm2_popstats</strong></a>(self)</dt><dd><span class="code">Get&nbsp;approximate&nbsp;county-level&nbsp;stats</span></dd></dl>

<dl><dt><a name="DB-list_admin_names"><strong>list_admin_names</strong></a>(self, sources=['U', 'N', 'G'], cc=None) -&gt; set</dt><dd><span class="code">Lists&nbsp;all&nbsp;admin&nbsp;level1&nbsp;names.<br>
:param&nbsp;cc:&nbsp;country&nbsp;code&nbsp;filter.<br>
:param&nbsp;sources:&nbsp;list&nbsp;of&nbsp;source&nbsp;IDs&nbsp;defaulting&nbsp;to&nbsp;those&nbsp;for&nbsp;USGS,&nbsp;NGA,&nbsp;Geonames.org<br>
:return:&nbsp;set&nbsp;of&nbsp;names,&nbsp;lowerased</span></dd></dl>

<dl><dt><a name="DB-list_all_popstats"><strong>list_all_popstats</strong></a>(self)</dt><dd><span class="code">:return:&nbsp;map&nbsp;of&nbsp;population&nbsp;by&nbsp;geohash&nbsp;only</span></dd></dl>

<dl><dt><a name="DB-list_countries"><strong>list_countries</strong></a>(self)</dt><dd><span class="code">List&nbsp;distinct&nbsp;country&nbsp;codes&nbsp;in&nbsp;<a href="#DB">DB</a>.<br>
:return:&nbsp;list&nbsp;of&nbsp;country&nbsp;codes.</span></dd></dl>

<dl><dt><a name="DB-list_places"><strong>list_places</strong></a>(self, cc=None, fc=None, criteria=None, limit=-1)</dt><dd><span class="code">Potentially&nbsp;massive&nbsp;array&nbsp;--&nbsp;so&nbsp;this&nbsp;is&nbsp;just&nbsp;a&nbsp;Place&nbsp;generator.<br>
:param&nbsp;cc:&nbsp;country&nbsp;code&nbsp;or&nbsp;''<br>
:param&nbsp;fc:&nbsp;feat&nbsp;class&nbsp;constraint&nbsp;with&nbsp;"*"&nbsp;wildcard,&nbsp;or&nbsp;''<br>
:param&nbsp;criteria:&nbsp;additional&nbsp;clause&nbsp;to&nbsp;constrain&nbsp;search,&nbsp;e.g.&nbsp;"&nbsp;AND&nbsp;duplicate=0&nbsp;"&nbsp;to&nbsp;find&nbsp;non-dups.<br>
:param&nbsp;limit:&nbsp;&nbsp;non-zero&nbsp;limit<br>
:return:&nbsp;generator</span></dd></dl>

<dl><dt><a name="DB-list_places_at"><strong>list_places_at</strong></a>(self, lat: float = None, lon: float = None, geohash: str = None, cc: str = None, radius: int = 5000, limit=10, method='2d')</dt><dd><span class="code">:param&nbsp;lat:&nbsp;latitude<br>
:param&nbsp;lon:&nbsp;longitude<br>
:param&nbsp;cc:&nbsp;&nbsp;ISO&nbsp;country&nbsp;code&nbsp;to&nbsp;filter.<br>
:param&nbsp;geohash:&nbsp;&nbsp;optionally,&nbsp;use&nbsp;precomputed&nbsp;geohash&nbsp;of&nbsp;precision&nbsp;6-chars&nbsp;instead&nbsp;of&nbsp;lat/lon.<br>
:param&nbsp;radius:&nbsp;&nbsp;in&nbsp;METERS,&nbsp;radial&nbsp;distance&nbsp;from&nbsp;given&nbsp;point&nbsp;to&nbsp;search,&nbsp;DEFAULT&nbsp;is&nbsp;5&nbsp;KM<br>
:param&nbsp;limit:&nbsp;count&nbsp;of&nbsp;places&nbsp;to&nbsp;return<br>
:param&nbsp;method:&nbsp;bbox&nbsp;or&nbsp;geohash<br>
:return:&nbsp;array&nbsp;of&nbsp;tuples,&nbsp;sorted&nbsp;by&nbsp;distance.</span></dd></dl>

<dl><dt><a name="DB-list_places_by_id"><strong>list_places_by_id</strong></a>(self, plid, limit=2)</dt><dd><span class="code">Collect&nbsp;places&nbsp;and&nbsp;name_bias&nbsp;for&nbsp;gazetter&nbsp;ETL.<br>
Lookup&nbsp;place&nbsp;by&nbsp;ID&nbsp;as&nbsp;in&nbsp;"G1234567"&nbsp;for&nbsp;Geonames&nbsp;entry&nbsp;or&nbsp;"N123456789"&nbsp;for&nbsp;an&nbsp;NGA&nbsp;one,&nbsp;etc.<br>
&nbsp;<br>
:param&nbsp;plid:&nbsp;Place&nbsp;ID&nbsp;according&nbsp;to&nbsp;the&nbsp;convention&nbsp;of&nbsp;source&nbsp;initial&nbsp;+&nbsp;identifier<br>
:param&nbsp;limit:&nbsp;limit&nbsp;queries&nbsp;because&nbsp;if&nbsp;we&nbsp;know&nbsp;we&nbsp;only&nbsp;one&nbsp;2&nbsp;or&nbsp;3&nbsp;we&nbsp;need&nbsp;not&nbsp;search&nbsp;database&nbsp;beyond&nbsp;that.<br>
:return:</span></dd></dl>

<dl><dt><a name="DB-mark_duplicates"><strong>mark_duplicates</strong></a>(self, dups)</dt></dl>

<dl><dt><a name="DB-mark_search_only"><strong>mark_search_only</strong></a>(self, pid)</dt><dd><span class="code">Toggle&nbsp;bit&nbsp;for&nbsp;search&nbsp;only.<br>
:param&nbsp;pid:&nbsp;Place&nbsp;ID&nbsp;int&nbsp;or&nbsp;list</span></dd></dl>

<dl><dt><a name="DB-optimize"><strong>optimize</strong></a>(self)</dt></dl>

<dl><dt><a name="DB-purge"><strong>purge</strong></a>(self, q)</dt></dl>

<dl><dt><a name="DB-reopen"><strong>reopen</strong></a>(self)</dt></dl>

<dl><dt><a name="DB-update_admin1_code"><strong>update_admin1_code</strong></a>(self, cc, from_code, to_code)</dt></dl>

<dl><dt><a name="DB-update_bias"><strong>update_bias</strong></a>(self, name_bias, rowids)</dt></dl>

<dl><dt><a name="DB-update_bias_by_name"><strong>update_bias_by_name</strong></a>(self, name_bias, name)</dt></dl>

<dl><dt><a name="DB-update_name_type"><strong>update_name_type</strong></a>(self, arr: list, t: str)</dt><dd><span class="code">Change&nbsp;the&nbsp;name&nbsp;type&nbsp;in&nbsp;bulk.<br>
:param&nbsp;arr:&nbsp;bulk&nbsp;array&nbsp;of&nbsp;placenames&nbsp;to&nbsp;change<br>
:param&nbsp;t:&nbsp;type&nbsp;code&nbsp;'A',&nbsp;'N',&nbsp;'C'<br>
:return:</span></dd></dl>

<dl><dt><a name="DB-update_place_id"><strong>update_place_id</strong></a>(self, rowid, plid)</dt></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</span></dd>
</dl>
</td></tr></table> <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="DataSource">class <strong>DataSource</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code"><a href="#DataSource">DataSource</a>(dbf,&nbsp;debug=False,&nbsp;ver=None)<br>
&nbsp;<br>
Gazetteer&nbsp;Data&nbsp;Source&nbsp;abstraction&nbsp;--&nbsp;provides&nbsp;guidelines&nbsp;on&nbsp;how&nbsp;to&nbsp;inject<br>
data&nbsp;into&nbsp;a&nbsp;common,&nbsp;normalized&nbsp;gazetteer.<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="DataSource-__init__"><strong>__init__</strong></a>(self, dbf, debug=False, ver=None)</dt><dd><span class="code">Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</span></dd></dl>

<dl><dt><a name="DataSource-normalize"><strong>normalize</strong></a>(self, sourcefile, limit=-1, optimize=False)</dt><dd><span class="code">Given&nbsp;the&nbsp;spreadsheet&nbsp;or&nbsp;source&nbsp;file&nbsp;rip&nbsp;through&nbsp;it,&nbsp;ingesting&nbsp;contents&nbsp;into&nbsp;the&nbsp;master&nbsp;gazetteer.<br>
:param&nbsp;sourcefile:&nbsp;input&nbsp;file<br>
:param&nbsp;limit:&nbsp;non-zero&nbsp;limit&nbsp;for&nbsp;testing<br>
:param&nbsp;optimize:&nbsp;if&nbsp;database&nbsp;should&nbsp;be&nbsp;optimized&nbsp;when&nbsp;done.<br>
:return:</span></dd></dl>

<dl><dt><a name="DataSource-process_source"><strong>process_source</strong></a>(self, sourcefile, limit=-1)</dt><dd><span class="code">generator&nbsp;yielding&nbsp;<a href="#DB">DB</a>&nbsp;geo&nbsp;dictionary&nbsp;to&nbsp;be&nbsp;stored.<br>
:param&nbsp;sourcefile:&nbsp;Raw&nbsp;data&nbsp;file<br>
:param&nbsp;limit:&nbsp;limit&nbsp;of&nbsp;number&nbsp;of&nbsp;records&nbsp;to&nbsp;process<br>
:return:&nbsp;generator&nbsp;of&nbsp;Place&nbsp;<a href="builtins.html#object">object</a>&nbsp;or&nbsp;dict&nbsp;of&nbsp;Place&nbsp;schema</span></dd></dl>

<dl><dt><a name="DataSource-purge"><strong>purge</strong></a>(self)</dt></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</span></dd>
</dl>
</td></tr></table> <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="GazetteerIndex">class <strong>GazetteerIndex</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code"><a href="#GazetteerIndex">GazetteerIndex</a>(server_url,&nbsp;debug=False)<br>
&nbsp;<br>
<a href="#GazetteerIndex">GazetteerIndex</a>&nbsp;provides&nbsp;a&nbsp;simple&nbsp;API&nbsp;to&nbsp;inject&nbsp;entries&nbsp;into&nbsp;the&nbsp;Gazetteer.<br>
-&nbsp;Every&nbsp;1000&nbsp;records&nbsp;a&nbsp;batch&nbsp;is&nbsp;sent&nbsp;to&nbsp;Solr<br>
-&nbsp;Every&nbsp;1,000,0000&nbsp;records&nbsp;a&nbsp;commit()&nbsp;call&nbsp;is&nbsp;sent&nbsp;to&nbsp;Solr<br>
&nbsp;<br>
This&nbsp;may&nbsp;provide&nbsp;gazetteer&nbsp;specific&nbsp;functions,&nbsp;but&nbsp;as&nbsp;of&nbsp;v1.3&nbsp;this&nbsp;is&nbsp;a&nbsp;generic&nbsp;Solr&nbsp;wrapper.<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="GazetteerIndex-__init__"><strong>__init__</strong></a>(self, server_url, debug=False)</dt><dd><span class="code">Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</span></dd></dl>

<dl><dt><a name="GazetteerIndex-add"><strong>add</strong></a>(self, place)</dt><dd><span class="code">:param&nbsp;place:&nbsp;Place&nbsp;<a href="builtins.html#object">object</a>.<br>
:return:</span></dd></dl>

<dl><dt><a name="GazetteerIndex-delete"><strong>delete</strong></a>(self, entry_id=None)</dt><dd><span class="code">Awaiting&nbsp;other&nbsp;kwdargs&nbsp;for&nbsp;deletion&nbsp;use&nbsp;cases.<br>
:param&nbsp;entry_id:&nbsp;master&nbsp;gazetteer&nbsp;row&nbsp;ID&nbsp;in&nbsp;sqlite&nbsp;or&nbsp;solr.&nbsp;&nbsp;Deletes&nbsp;solr&nbsp;entry<br>
:return:</span></dd></dl>

<dl><dt><a name="GazetteerIndex-optimize"><strong>optimize</strong></a>(self)</dt></dl>

<dl><dt><a name="GazetteerIndex-save"><strong>save</strong></a>(self, done=False)</dt></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</span></dd>
</dl>
</td></tr></table> <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="GazetteerSearch">class <strong>GazetteerSearch</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code"><a href="#GazetteerSearch">GazetteerSearch</a>(server_url)<br>
&nbsp;<br>
<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="GazetteerSearch-__init__"><strong>__init__</strong></a>(self, server_url)</dt><dd><span class="code">TODO:&nbsp;BETA&nbsp;-&nbsp;looking&nbsp;to&nbsp;abstract&nbsp;Solr().search()&nbsp;function&nbsp;for&nbsp;common&nbsp;types&nbsp;of&nbsp;queries.<br>
&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;now&nbsp;getting&nbsp;a&nbsp;list&nbsp;of&nbsp;country&nbsp;name&nbsp;variants&nbsp;is&nbsp;easy&nbsp;enough.<br>
:param&nbsp;server_url:&nbsp;&nbsp;URL&nbsp;with&nbsp;path&nbsp;to&nbsp;`/solr/gazetteer'&nbsp;index</span></dd></dl>

<dl><dt><a name="GazetteerSearch-get_countries"><strong>get_countries</strong></a>(self, max_namelen=30)</dt><dd><span class="code">Searches&nbsp;gazetteer&nbsp;for&nbsp;Country&nbsp;metadata<br>
TODO:&nbsp;dovetail&nbsp;Country&nbsp;metadata&nbsp;(lang,&nbsp;timezone,&nbsp;codes,&nbsp;etc)&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;Country&nbsp;place&nbsp;data.<br>
TODO:&nbsp;Document&nbsp;different&nbsp;uses&nbsp;for&nbsp;<a href="#GazetteerSearch">GazetteerSearch</a>.<a href="#GazetteerSearch-get_countries">get_countries</a>()&nbsp;from&nbsp;API&nbsp;get_country()<br>
TODO:&nbsp;Review&nbsp;differences&nbsp;in&nbsp;Place()&nbsp;schema&nbsp;and&nbsp;Country()&nbsp;schema&nbsp;for&nbsp;name&nbsp;variants,<br>
&nbsp;&nbsp;&nbsp;&nbsp;e.g.,&nbsp;Country&nbsp;variants&nbsp;presented&nbsp;as&nbsp;abbreviations,&nbsp;codes&nbsp;or&nbsp;names&nbsp;need&nbsp;to&nbsp;be&nbsp;distinguished&nbsp;as&nbsp;such.<br>
:param&nbsp;max_namelen:<br>
:return:</span></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</span></dd>
</dl>
</td></tr></table> <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="ISO3166Registry">class <strong>ISO3166Registry</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor"><span class="code">&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="ISO3166Registry-__init__"><strong>__init__</strong></a>(self)</dt><dd><span class="code">Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</span></dd></dl>

<dl><dt><a name="ISO3166Registry-get_admin1_for"><strong>get_admin1_for</strong></a>(self, cc, adm2)</dt></dl>

<dl><dt><a name="ISO3166Registry-has_admin1"><strong>has_admin1</strong></a>(self, cc, adm1)</dt></dl>

<dl><dt><a name="ISO3166Registry-is_iso_country"><strong>is_iso_country</strong></a>(self, cc)</dt></dl>

<dl><dt><a name="ISO3166Registry-load_admin_mapping"><strong>load_admin_mapping</strong></a>(self)</dt></dl>

<hr>
Static methods defined here:<br>
<dl><dt><a name="ISO3166Registry-export_admin_mapping"><strong>export_admin_mapping</strong></a>()</dt><dd><span class="code">Generate&nbsp;initial&nbsp;file&nbsp;using&nbsp;pycountry.&nbsp;&nbsp;pycountry&nbsp;is&nbsp;not&nbsp;a&nbsp;library&nbsp;dependency<br>
so&nbsp;it&nbsp;is&nbsp;externalized&nbsp;here.<br>
:return:</span></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</span></dd>
</dl>
</td></tr></table> <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="PlaceHeuristics">class <strong>PlaceHeuristics</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code"><a href="#PlaceHeuristics">PlaceHeuristics</a>(dbref:&nbsp;opensextant.gazetteer.<a href="#DB">DB</a>)<br>
&nbsp;<br>
<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="PlaceHeuristics-__init__"><strong>__init__</strong></a>(self, dbref: opensextant.gazetteer.DB)</dt><dd><span class="code">:param&nbsp;dbref:&nbsp;<a href="#DB">DB</a>&nbsp;instance</span></dd></dl>

<dl><dt><a name="PlaceHeuristics-estimate_bias"><strong>estimate_bias</strong></a>(self, geo, name_group='')</dt><dd><span class="code">Primary&nbsp;Estimator&nbsp;of&nbsp;id_bias&nbsp;and&nbsp;name_bias.<br>
&nbsp;<br>
id_bias&nbsp;&nbsp;&nbsp;--&nbsp;a&nbsp;location&nbsp;bias&nbsp;to&nbsp;pre-rank&nbsp;city&nbsp;by&nbsp;feature/population<br>
name_bias&nbsp;--&nbsp;a&nbsp;metric&nbsp;ranging&nbsp;from&nbsp;-1&nbsp;to&nbsp;1,&nbsp;that&nbsp;represents&nbsp;the&nbsp;validity&nbsp;of&nbsp;a&nbsp;tagging&nbsp;the&nbsp;name/phrase<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;a&nbsp;general&nbsp;context.&nbsp;&nbsp;The&nbsp;result&nbsp;is&nbsp;eventually&nbsp;binary&nbsp;&nbsp;search_only&nbsp;=&nbsp;name_bias&nbsp;&lt;&nbsp;0.&nbsp;This&nbsp;means<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;geo&nbsp;names&nbsp;that&nbsp;are&nbsp;search_only&nbsp;are&nbsp;not&nbsp;taggable.<br>
:param&nbsp;geo:<br>
:param&nbsp;name_group:<br>
:return:</span></dd></dl>

<dl><dt><a name="PlaceHeuristics-get_feature_scale"><strong>get_feature_scale</strong></a>(self, fc, dsg)</dt><dd><span class="code">:param&nbsp;fc:&nbsp;feature&nbsp;class<br>
:param&nbsp;dsg:&nbsp;feature&nbsp;code<br>
:return:</span></dd></dl>

<dl><dt><a name="PlaceHeuristics-is_large_city"><strong>is_large_city</strong></a>(self, name)</dt></dl>

<dl><dt><a name="PlaceHeuristics-is_province_name"><strong>is_province_name</strong></a>(self, name) -&gt; bool</dt><dd><span class="code">Report&nbsp;if&nbsp;a&nbsp;name&nbsp;is&nbsp;that&nbsp;of&nbsp;a&nbsp;province,&nbsp;regardless&nbsp;of&nbsp;whether&nbsp;the&nbsp;location&nbsp;repreents&nbsp;something&nbsp;else.<br>
E.g.<br>
&nbsp;&nbsp;&nbsp;&nbsp;"Florida"&nbsp;is&nbsp;a&nbsp;city&nbsp;(lesser&nbsp;known)&nbsp;or&nbsp;a&nbsp;state&nbsp;(well&nbsp;known).&nbsp;&nbsp;&nbsp;Therefore&nbsp;it&nbsp;is&nbsp;a&nbsp;popular&nbsp;name.<br>
:param&nbsp;name:<br>
:return:</span></dd></dl>

<dl><dt><a name="PlaceHeuristics-is_significant"><strong>is_significant</strong></a>(self, feat) -&gt; bool</dt></dl>

<dl><dt><a name="PlaceHeuristics-is_stopword"><strong>is_stopword</strong></a>(self, name: str) -&gt; bool</dt></dl>

<dl><dt><a name="PlaceHeuristics-location_bias"><strong>location_bias</strong></a>(self, geo)</dt><dd><span class="code">See&nbsp;<a href="#PlaceHeuristics-estimate_bias">estimate_bias</a>()<br>
&nbsp;<br>
A&nbsp;location&nbsp;is&nbsp;pre-disposed&nbsp;by&nbsp;its&nbsp;feature&nbsp;type&nbsp;and&nbsp;population/popularity.<br>
E.g.,&nbsp;large&nbsp;cities&nbsp;are&nbsp;mentioned&nbsp;more&nbsp;often&nbsp;in&nbsp;news&nbsp;or&nbsp;documents&nbsp;than&nbsp;less&nbsp;populated&nbsp;cities.<br>
Factors:<br>
&nbsp;<br>
Feature&nbsp;gradient&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A,&nbsp;P,&nbsp;.....&nbsp;U.&nbsp;&nbsp;More&nbsp;populated&nbsp;features&nbsp;have&nbsp;higer&nbsp;bias<br>
Population&nbsp;gradient&nbsp;&nbsp;log(pop)&nbsp;&nbsp;scales&nbsp;bias&nbsp;higher<br>
&nbsp;<br>
:param&nbsp;geo:&nbsp;&nbsp;standard&nbsp;ETL&nbsp;geo&nbsp;dict<br>
:return:&nbsp;&nbsp;score&nbsp;on&nbsp;100&nbsp;point&nbsp;scale.</span></dd></dl>

<dl><dt><a name="PlaceHeuristics-name_bias"><strong>name_bias</strong></a>(self, geoname: str, feat_class: str, feat_code: str, name_group='', name_type='N')</dt><dd><span class="code">See&nbsp;<a href="#PlaceHeuristics-estimate_bias">estimate_bias</a>()<br>
&nbsp;<br>
Given&nbsp;a&nbsp;geoname&nbsp;we&nbsp;look&nbsp;at&nbsp;the&nbsp;instance&nbsp;of&nbsp;the&nbsp;name&nbsp;variant&nbsp;and&nbsp;if&nbsp;it&nbsp;is&nbsp;something&nbsp;trivially<br>
colliding&nbsp;with&nbsp;stopwords&nbsp;in&nbsp;other&nbsp;languages&nbsp;then&nbsp;we&nbsp;consider&nbsp;omitting&nbsp;it.<br>
&nbsp;<br>
very&nbsp;positive&nbsp;bias&nbsp;&nbsp;&nbsp;-&nbsp;long&nbsp;unique&nbsp;name,&nbsp;diacritic&nbsp;or&nbsp;in&nbsp;non-ASCII&nbsp;script<br>
positive&nbsp;bias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;normal&nbsp;location&nbsp;name,&nbsp;multiple&nbsp;words&nbsp;or&nbsp;grams<br>
neutral&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;possibly&nbsp;a&nbsp;place&nbsp;name,&nbsp;but&nbsp;is&nbsp;case-dependent,&nbsp;e.g.,&nbsp;person&nbsp;name&nbsp;or&nbsp;generic&nbsp;monument&nbsp;name.<br>
negative&nbsp;bias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;a&nbsp;stopword&nbsp;or&nbsp;trivial&nbsp;version&nbsp;of&nbsp;a&nbsp;stopword,&nbsp;`Ã…re`<br>
very&nbsp;negative&nbsp;bias&nbsp;&nbsp;&nbsp;-&nbsp;a&nbsp;very&nbsp;rare&nbsp;or&nbsp;extremely&nbsp;long&nbsp;version&nbsp;of&nbsp;a&nbsp;place&nbsp;name,&nbsp;nonsense<br>
-1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;WordStats&nbsp;reports&nbsp;as&nbsp;a&nbsp;"common"&nbsp;word.<br>
&nbsp;<br>
Conclusion:&nbsp;Any&nbsp;Negative&nbsp;name_bias&nbsp;term&nbsp;will&nbsp;NOT&nbsp;be&nbsp;tagged,&nbsp;although&nbsp;it&nbsp;is&nbsp;present&nbsp;in&nbsp;gazetteer.<br>
&nbsp;<br>
CODE&nbsp;and&nbsp;ABBREV&nbsp;are&nbsp;not&nbsp;biased&nbsp;--&nbsp;they&nbsp;are&nbsp;simply&nbsp;not&nbsp;full&nbsp;names.<br>
&nbsp;<br>
TODO:&nbsp;ONLY&nbsp;unigrams&nbsp;are&nbsp;tracked,&nbsp;so<br>
&nbsp;&nbsp;&nbsp;&nbsp;"Alabama"&nbsp;-&gt;&nbsp;not&nbsp;common,<br>
&nbsp;&nbsp;&nbsp;&nbsp;"Need"&nbsp;-&gt;&nbsp;common,<br>
&nbsp;&nbsp;&nbsp;&nbsp;"New&nbsp;York"&nbsp;-&gt;&nbsp;not&nbsp;tracked.&nbsp;This&nbsp;is&nbsp;a&nbsp;bi-gram<br>
&nbsp;<br>
:param&nbsp;geoname:<br>
:param&nbsp;feat_class:<br>
:param&nbsp;feat_code:<br>
:param&nbsp;name_group:<br>
:param&nbsp;name_type:<br>
:return:&nbsp;&nbsp;floating&nbsp;point&nbsp;number&nbsp;between&nbsp;-100&nbsp;and&nbsp;100</span></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</span></dd>
</dl>
<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>LARGE_CITY</strong> = 3</dl>

</td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor functions-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Functions</strong></td></tr>
    
<tr><td class="decor functions-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl><dt><a name="-add_location"><strong>add_location</strong></a>(geo, lat, lon, add_geohash=False)</dt><dd><span class="code">Insert&nbsp;validated&nbsp;location&nbsp;coordinate&nbsp;and&nbsp;geohash<br>
:param&nbsp;add_geohash:&nbsp;due&nbsp;to&nbsp;performance,&nbsp;add&nbsp;this&nbsp;if&nbsp;needed<br>
:param&nbsp;geo:&nbsp;dict<br>
:param&nbsp;lat:&nbsp;latitude&nbsp;value,&nbsp;str&nbsp;or&nbsp;float<br>
:param&nbsp;lon:&nbsp;longitude&nbsp;value,&nbsp;str&nbsp;or&nbsp;float<br>
:return:&nbsp;geo&nbsp;dict&nbsp;with&nbsp;location</span></dd></dl>
 <dl><dt><a name="-as_admin_place"><strong>as_admin_place</strong></a>(r)</dt><dd><span class="code">Convert&nbsp;dict&nbsp;to&nbsp;a&nbsp;Place&nbsp;<a href="builtins.html#object">object</a><br>
:param&nbsp;r:&nbsp;gazetteer&nbsp;row&nbsp;from&nbsp;Solr&nbsp;or&nbsp;SQlite.<br>
:return:&nbsp;Place</span></dd></dl>
 <dl><dt><a name="-as_place"><strong>as_place</strong></a>(r, source='index')</dt><dd><span class="code">Convert&nbsp;dict&nbsp;to&nbsp;a&nbsp;Place&nbsp;<a href="builtins.html#object">object</a><br>
:param&nbsp;source:&nbsp;db&nbsp;or&nbsp;index&nbsp;(solr)<br>
:param&nbsp;r:&nbsp;gazetteer&nbsp;row&nbsp;from&nbsp;Solr&nbsp;or&nbsp;SQlite.<br>
:return:&nbsp;Place</span></dd></dl>
 <dl><dt><a name="-as_place_record"><strong>as_place_record</strong></a>(place, target='index')</dt><dd><span class="code">Given&nbsp;a&nbsp;Place&nbsp;<a href="builtins.html#object">object</a>,&nbsp;serialize&nbsp;it&nbsp;as&nbsp;a&nbsp;dict&nbsp;consistent&nbsp;with&nbsp;the&nbsp;Solr&nbsp;index&nbsp;schema.<br>
:param&nbsp;place:<br>
:param&nbsp;target:&nbsp;index&nbsp;or&nbsp;db<br>
:return:</span></dd></dl>
 <dl><dt><a name="-capitalize"><strong>capitalize</strong></a>(name: dict)</dt><dd><span class="code">Capitalize&nbsp;all&nbsp;city&nbsp;and&nbsp;major&nbsp;admin&nbsp;boundaries</span></dd></dl>
 <dl><dt><a name="-coord_grid"><strong>coord_grid</strong></a>(geo: dict) -&gt; str</dt><dd><span class="code">A&nbsp;less&nbsp;dissatisfying&nbsp;grid&nbsp;than&nbsp;geohash.&nbsp;Its&nbsp;just&nbsp;returning&nbsp;Y,X&nbsp;in&nbsp;low&nbsp;resolution.&nbsp;LLL.l,LLL.l</span></dd></dl>
 <dl><dt><a name="-estimate_name_bias"><strong>estimate_name_bias</strong></a>(nm)</dt></dl>
 <dl><dt><a name="-export_admin_mapping"><strong>export_admin_mapping</strong></a>(admin_ids, filepath)</dt><dd><span class="code">Experimental:&nbsp;&nbsp;Map&nbsp;all&nbsp;source&nbsp;place&nbsp;IDs&nbsp;=&gt;&nbsp;ADM&nbsp;ids<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&nbsp;all&nbsp;standard&nbsp;ADM&nbsp;ids&nbsp;=&gt;&nbsp;place&nbsp;IDs<br>
:param&nbsp;admin_ids:&nbsp;&nbsp;dict&nbsp;for&nbsp;JSON&nbsp;or&nbsp;array&nbsp;for&nbsp;CSV<br>
:param&nbsp;filepath:<br>
:return:</span></dd></dl>
 <dl><dt><a name="-gaz_resource"><strong>gaz_resource</strong></a>(fname)</dt><dd><span class="code">Formats&nbsp;the&nbsp;relative&nbsp;path&nbsp;for&nbsp;an&nbsp;item&nbsp;in&nbsp;the&nbsp;./solr/etc/gazetteer/&nbsp;metadata<br>
:param&nbsp;fname:<br>
:return:</span></dd></dl>
 <dl><dt><a name="-get_default_db"><strong>get_default_db</strong></a>()</dt></dl>
 <dl><dt><a name="-get_default_wordstats"><strong>get_default_wordstats</strong></a>()</dt></dl>
 <dl><dt><a name="-load_major_cities_iso"><strong>load_major_cities_iso</strong></a>()</dt></dl>
 <dl><dt><a name="-load_stopterms"><strong>load_stopterms</strong></a>(project_dir='.', lower=True)</dt><dd><span class="code">Load&nbsp;default&nbsp;stop&nbsp;terms&nbsp;from&nbsp;source&nbsp;tree&nbsp;for&nbsp;project&nbsp;build.<br>
:param&nbsp;project_dir:&nbsp;The&nbsp;location&nbsp;of&nbsp;Xponents/solr&nbsp;source&nbsp;tree.<br>
:param&nbsp;lower:&nbsp;default&nbsp;case&nbsp;to&nbsp;load&nbsp;data&nbsp;as.&nbsp;If&nbsp;not&nbsp;lower,&nbsp;then&nbsp;terms&nbsp;are&nbsp;loaded&nbsp;as-is<br>
:return:</span></dd></dl>
 <dl><dt><a name="-name_group_for"><strong>name_group_for</strong></a>(nm: str)</dt><dd><span class="code">Determine&nbsp;the&nbsp;major&nbsp;language&nbsp;"name&nbsp;group"&nbsp;for&nbsp;the&nbsp;input<br>
:param&nbsp;nm:&nbsp;name&nbsp;or&nbsp;any&nbsp;text<br>
:return:</span></dd></dl>
 <dl><dt><a name="-normalize_name"><strong>normalize_name</strong></a>(nm: str)</dt><dd><span class="code">convenience&nbsp;method&nbsp;that&nbsp;ensures&nbsp;we&nbsp;have&nbsp;some&nbsp;consistency&nbsp;on&nbsp;normalization&nbsp;of&nbsp;name<br>
:param&nbsp;nm:<br>
:return:</span></dd></dl>
 <dl><dt><a name="-print_places"><strong>print_places</strong></a>(arr, limit=25)</dt></dl>
 <dl><dt><a name="-run_lookup"><strong>run_lookup</strong></a>(url, lookup, parse)</dt><dd><span class="code">Gazetteer&nbsp;demo&nbsp;mimics&nbsp;some&nbsp;of&nbsp;the&nbsp;logic&nbsp;in&nbsp;XponentsGazetteerQuery<br>
try&nbsp;"San&nbsp;Francisco,&nbsp;CA,&nbsp;US"</span></dd></dl>
 <dl><dt><a name="-run_query"><strong>run_query</strong></a>(url, q)</dt><dd><span class="code">Expert&nbsp;mode:&nbsp;&nbsp;Run&nbsp;a&nbsp;solr&nbsp;query&nbsp;to&nbsp;see&nbsp;what&nbsp;you&nbsp;get&nbsp;back.&nbsp;<br>
requires&nbsp;you&nbsp;know&nbsp;the&nbsp;schema</span></dd></dl>
</td></tr></table><p>
<table class="section">
<tr class="decor data-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Data</strong></td></tr>
    
<tr><td class="decor data-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><strong>DEFAULT_COUNTRY_ID_BIAS</strong> = 49<br>
<strong>DEFAULT_MASTER</strong> = 'master_gazetteer.sqlite'<br>
<strong>DEFAULT_SOLR_URL</strong> = '127.0.0.1:7000'<br>
<strong>DEFAULT_WORDSTATS</strong> = 'wordstats.sqlite'<br>
<strong>GAZETTEER_SOURCES</strong> = {'ADHOC': 'OA', 'G': 'G', 'GEONAMES': 'OG', 'GP': 'GP', 'Geonames.org': 'OG', 'NE': 'NE', 'NGA': 'N', 'NGA-AUTOFIXED': 'NF', 'USGS': 'U', 'USGS-AUTOFIXED': 'UF', ...}<br>
<strong>GAZETTEER_SOURCE_ID</strong> = {'G', 'GPX', 'ISO', 'N', 'NE', 'NF', ...}<br>
<strong>GAZETTEER_TEMPLATE</strong> = {'FIPS_cc': None, 'adm1': None, 'adm2': None, 'cc': None, 'feat_class': None, 'feat_code': None, 'id': -1, 'id_bias': 0, 'lat': 0, 'lon': 0, ...}<br>
<strong>MAJOR_ADMIN_CODES</strong> = {'ADM1', 'ADM2', 'ADM3', 'ADM4', 'ADMD', 'PRSH', ...}<br>
<strong>SCRIPT_CODES</strong> = {None: '', 'LATIN': 'L', 'HAN': 'H', 'COMMON': 'C', 'ARABIC': 'A', 'ARMENIAN': 'AM', 'BENGALI': 'BN', 'CYRILLIC': 'CY', 'DEVANAGARI': 'DV', 'ETHIOPIC': 'ET', ...}<br>
<strong>US_TERRITORY_MAP</strong> = {'FIPS': {'AQ': 'AS', 'CQ': 'MP', 'DQ': 'UM', 'FQ': 'UM', 'GQ': 'GU', 'HQ': 'UM', 'JQ': 'UM', 'MQ': 'UM', 'RQ': 'PR', 'VI': 'VI', ...}, 'ISO': {'AS': 'AQ', 'GU': 'CQ', 'MP': 'CQ', 'PR': 'RQ'}}</td></tr></table>
</body></html>